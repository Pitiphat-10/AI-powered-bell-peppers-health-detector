<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bell Pepper Health Detector</title>

  <!-- Tailwind (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: { extend: {
        colors: { brand: {
          50:"#eefdf3",100:"#d7f7e2",200:"#b2efcb",300:"#83e2ae",
          400:"#4fd18e",500:"#22c06b",600:"#16a457",700:"#117f44",
          800:"#0d6236",900:"#0a4e2b"
        }}
      }}
    }
  </script>

  <!-- TensorFlow.js -->
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest"></script>
  <!-- App -->
  <script defer src="script.js"></script>

  <style>
    /* ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏†‡∏≤‡∏û + ‡πÄ‡∏•‡πÄ‡∏¢‡∏≠‡∏£‡πå‡∏°‡∏∑‡∏î‡πÉ‡∏´‡πâ‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢ */
    .page-bg{
      position:fixed; inset:0;
      background:url("a-green-wall-with-many-leaves-and-flowers-photo.jpg") center/cover no-repeat fixed;
      z-index:-2;
    }
    .page-overlay{
      position:fixed; inset:0; z-index:-1;
      background:linear-gradient(to bottom right, rgba(0,0,0,.35), rgba(0,0,0,.45));
      backdrop-filter:saturate(1.1) blur(0.5px);
    }
    @media (prefers-color-scheme: dark){ :root{ color-scheme: dark; } }
  </style>
</head>
<body class="min-h-full text-brand-50">
  <!-- background layers -->
  <div class="page-bg"></div>
  <div class="page-overlay"></div>

  <header class="py-6">
    <div class="mx-auto max-w-5xl px-4">
      <h1 class="text-2xl md:text-3xl font-semibold drop-shadow">
        ü´ë Bell Pepper Health Detector
      </h1>
      <p class="mt-1 text-sm text-brand-50/80 drop-shadow">
        ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏π‡∏õ ‚Ä¢ ‡∏•‡∏≤‡∏Å-‡∏ß‡∏≤‡∏á ‚Ä¢ ‡∏ñ‡πà‡∏≤‡∏¢‡∏à‡∏≤‡∏Å‡∏Å‡∏•‡πâ‡∏≠‡∏á ‚Ä¢ ‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏ú‡∏• CSV
      </p>
    </div>
  </header>

  <main class="mx-auto max-w-5xl px-4 pb-16">
    <!-- Glass card -->
    <div class="rounded-2xl border border-white/15 bg-white/10 backdrop-blur-md shadow-xl p-5">

      <!-- Control bar -->
      <div class="flex flex-wrap gap-3 items-center">
        <button id="addBtn"
          class="px-3 py-2 rounded-lg border border-white/25 bg-white/10 hover:bg-white/20">
          ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏π‡∏õ‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå
        </button>
        <button id="cameraBtn"
          class="px-3 py-2 rounded-lg border border-white/25 bg-white/10 hover:bg-white/20">
          ‡∏ñ‡πà‡∏≤‡∏¢‡∏à‡∏≤‡∏Å‡∏Å‡∏•‡πâ‡∏≠‡∏á
        </button>
        <button id="clearBtn"
          class="px-3 py-2 rounded-lg border border-white/25 bg-white/10 hover:bg-white/20">
          ‡∏•‡πâ‡∏≤‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
        </button>
        <button id="exportBtn"
          class="px-3 py-2 rounded-lg border border-white/25 bg-white/10 hover:bg-white/20">
          ‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏ú‡∏• (.csv)
        </button>
        <div id="status" class="ml-auto text-sm text-brand-50/80">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏°‡πÄ‡∏î‡∏•‚Ä¶</div>
      </div>

      <!-- Hidden file input -->
      <input id="upload" type="file" accept="image/*" multiple class="hidden" />

      <!-- Drop zone -->
      <div id="dropZone"
           class="mt-4 rounded-xl border-2 border-dashed border-white/30 p-6 text-center
                  bg-white/5 hover:bg-white/10 transition">
        <p class="font-medium">‡∏•‡∏≤‡∏Å-‡∏ß‡∏≤‡∏á‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏î ‚Äú‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏π‡∏õ‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå‚Äù ‡∏´‡∏£‡∏∑‡∏≠ ‚Äú‡∏ñ‡πà‡∏≤‡∏¢‡∏à‡∏≤‡∏Å‡∏Å‡∏•‡πâ‡∏≠‡∏á‚Äù</p>
        <p class="text-xs text-brand-50/80">‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏´‡∏•‡∏≤‡∏¢‡πÑ‡∏ü‡∏•‡πå</p>
      </div>

      <!-- Progress -->
      <div id="progressWrap" class="hidden mt-4">
        <div class="h-2 w-full rounded-full bg-white/20 overflow-hidden">
          <div id="bar" class="h-2 w-0 bg-brand-500 transition-all"></div>
        </div>
        <p id="progressText" class="mt-2 text-xs text-brand-50/80">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‚Ä¶</p>
      </div>

      <!-- Gallery + results -->
      <div id="gallery" class="mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5"></div>
    </div>

    <p class="mt-6 text-xs text-brand-50/80">
      * ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ó‡∏≥‡∏ö‡∏ô‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì ‡πÑ‡∏ü‡∏•‡πå‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå
    </p>
  </main>

  <!-- Camera modal -->
  <div id="camModal" class="fixed inset-0 hidden items-center justify-center bg-black/60 p-4 z-50">
    <div class="w-full max-w-md rounded-2xl overflow-hidden border border-white/15 bg-black/60 backdrop-blur-md">
      <div class="p-4 border-b border-white/10 flex items-center justify-between">
        <h3 class="font-semibold">‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û‡∏à‡∏≤‡∏Å‡∏Å‡∏•‡πâ‡∏≠‡∏á</h3>
        <button id="camClose" class="text-sm px-2 py-1 rounded border border-white/20 bg-white/10 hover:bg-white/20">‡∏õ‡∏¥‡∏î</button>
      </div>
      <div class="p-4 space-y-3">
        <video id="video" autoplay playsinline class="w-full rounded-lg bg-black/30 aspect-video"></video>
        <div class="flex gap-3">
          <button id="camCapture" class="px-3 py-2 rounded-lg border border-white/20 bg-white/10 hover:bg-white/20">
            ‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û
          </button>
          <button id="camSwitch" class="px-3 py-2 rounded-lg border border-white/20 bg-white/10 hover:bg-white/20">
            ‡∏™‡∏•‡∏±‡∏ö‡∏Å‡∏•‡πâ‡∏≠‡∏á (‡∏´‡∏ô‡πâ‡∏≤/‡∏´‡∏•‡∏±‡∏á)
          </button>
        </div>
        <canvas id="canvas" class="hidden"></canvas>
      </div>
    </div>
  </div>
</body>
</html>
